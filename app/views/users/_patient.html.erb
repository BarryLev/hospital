<p><strong>Appointments:</strong></p>

<table>
  <tr>
    <th>Appointment ID</th>
    <th>Doctor name</th>
    <th>Active</th>
    <th>Recommendation</th>
    <th></th>
  </tr>
  <% patient.appointments.includes(:doctor).each do |appointment| %>
    <tr>
      <td>
        <%= "Appointment##{appointment.id}" %>
      </td>
      <td>
        <%= link_to appointment.doctor.name, doctor_path(appointment.doctor) %>
      </td>
      <td>
        <%= appointment.active ? "Yes" : "No" %>
      </td>
      <td>
        <%= appointment.recommendation.present? ? appointment.recommendation : "Empty" %>
      </td>
      <td>
        <% if can?(:update, appointment) && appointment.active %>
          <%= link_to "Edit", edit_appointment_path(id: appointment.id) %>
        <% end %>
      </td>
    </tr>
  <% end %>
</table>
